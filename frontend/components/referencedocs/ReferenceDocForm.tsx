"use client";
import React,{useEffect,useState} from "react";
export default function ReferenceDocForm({initial={},onCancel,onSave}:{initial?:any;onCancel:any;onSave:any;}){
  const [projectId,setProjectId]=useState(initial.projectId??""); const [tmId,setTmId]=useState(initial.tm_id??""); const [docName,setDocName]=useState(initial.docName??""); const [version,setVersion]=useState(initial.version??""); const [link,setLink]=useState(initial.link??""); const [status,setStatus]=useState(initial.status??"");
  useEffect(()=>{ setProjectId(initial.projectId??""); setTmId(initial.tm_id??""); setDocName(initial.docName??""); setVersion(initial.version??""); setLink(initial.link??""); setStatus(initial.status??""); },[initial]);
  async function submit(e:React.FormEvent){ e.preventDefault(); await onSave({ projectId:Number(projectId), tm_id:Number(tmId), docName:docName||null, version:version||null, link:link||null, status:status||null }); }
  return (<form onSubmit={submit} className="space-y-4"><div className="grid grid-cols-3 gap-3"><label className="block"><div className="text-xs">projectId</div><input value={projectId as any} onChange={e=>setProjectId(e.target.value)} type="number" className="input" /></label><label className="block"><div className="text-xs">tm_id</div><input value={tmId as any} onChange={e=>setTmId(e.target.value)} type="number" className="input" /></label><label className="block"><div className="text-xs">docName</div><input required value={docName} onChange={e=>setDocName(e.target.value)} className="input" /></label></div><label className="block"><div className="text-xs">version</div><input value={version} onChange={e=>setVersion(e.target.value)} className="input" /></label><label className="block"><div className="text-xs">link</div><input value={link} onChange={e=>setLink(e.target.value)} className="input" /></label><div className="flex justify-end gap-2"><button type="button" onClick={onCancel} className="px-3 py-1 border rounded">Cancel</button><button type="submit" className="px-3 py-1 bg-blue-600 text-white rounded">Save</button></div></form>); }
